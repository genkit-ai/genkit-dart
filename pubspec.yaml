name: genkit_workspace
description: Genkit Dart Monorepo
publish_to: none

environment:
  sdk: ^3.6.0

workspace:
  - packages/genkit
  - packages/genkit_google_genai
  - packages/genkit_shelf
  - packages/genkit_schema_builder
  - packages/testapps

dev_dependencies:
  melos: ^7.0.0
  
# Shared dev dependencies can go here if we want to enforce versions, 
# but for now let's keep it minimal.

melos:
  name: genkit_workspace
  packages:
    - packages/**
  
  scripts:
    test:
      exec: dart test
      packageFilters:
        dirExists: test

    analyze:
      exec: dart analyze .

    build-gen:
      order-dependents: true
      packageFilters:
        dependsOn: build_runner
      exec: dart run build_runner build
